name: Release

on:
  push:
    tags:
      - "*"

jobs:
  release:
    name: Release project ðŸš€
    runs-on: ubuntu-latest
    steps:
      - name: Release project ðŸš€
        uses: tchoupinax/repo-config/shared-actions/golang/goreleaser-release@db89e9d50f7a2f66da683a659213997894ff2155
        with:
          appId: ${{ secrets.DEPLOY_APP_ID }}
          privateKey: ${{ secrets.DEPLOY_APP_KEY }}

  brew-update:
    name: Update Brew registry ðŸ‘Š
    runs-on: ubuntu-latest
    steps:
      - name: Update Brew registry ðŸ‘Š
        uses: tchoupinax/repo-config/shared-actions/dx/update-brew-registry@db89e9d50f7a2f66da683a659213997894ff2155
        with:
          patToken: ${{ secrets. BREW_COMITTER_PAT }}
          formulaPath: sh-list.rb
